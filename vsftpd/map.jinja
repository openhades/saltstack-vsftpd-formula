{% set vsftpd = salt['grains.filter_by']({
    'Debian': {
        'server': 'vsftpd',
        'service': 'vsftpd',
        'config': '/etc/vsftpd.conf',
        'config_src': 'salt://vsftpd/files/vsftpd.conf',
    },
    'FreeBSD': {
        'server': 'vsftpd-ssl',
        'service': 'vsftpd',
        'config': '/usr/local/etc/vsftpd.conf',
        'config_src': 'salt://vsftpd/files/vsftpd.conf',
    },
    'RedHat': {
        'server': 'vsftpd',
        'service': 'vsftpd',
        'config': '/etc/vsftpd/vsftpd.conf',
        'config_src': 'salt://vsftpd/files/vsftpd.conf',
    },
    'Arch': {
        'server': 'vsftpd',
        'service': 'vssftpd',
        'config': '/etc/vsftpd.conf',
        'config_src': 'salt://vsftpd/files/vsftpd.conf',
    },
}, merge=salt['pillar.get']('vsftpd:lookup')) %}
